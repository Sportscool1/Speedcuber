<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Makerspace Reservation System</title>
    <style>
        /* ... (styles remain unchanged) */
    </style>
</head>
<body>

<!-- ... (header and other HTML elements remain unchanged) -->

<script>
    let selectedEquipment = '';

    function showAvailableEquipment() {
        document.querySelector('.home').style.display = 'none';
        document.querySelector('.equipment').style.display = 'block';
    }

    function selectEquipment(equipmentName, hourlyRate) {
        selectedEquipment = equipmentName;

        // Enable the reservation hours input
        document.getElementById("reservationHours").removeAttribute("disabled");

        // Set hourly rate in the form
        document.getElementById("reservationHours").setAttribute("data-hourly-rate", hourlyRate);

        // Display the reservation form
        document.getElementById("reservationForm").reset(); // Clear the form
        document.querySelector('.equipment').style.display = "none";
        document.querySelector('.reservation-form').style.display = "block";
    }

    function backToHome() {
        resetForms();
        document.querySelector('.home').style.display = 'block';
    }

    function backToEquipment() {
        resetForms();
        document.querySelector('.equipment').style.display = 'block';
    }

    function backToSummary() {
        document.querySelector('.payment-form').style.display = "none";
        document.querySelector('.summary').style.display = "block";
    }

    function submitReservation() {
        const userName = document.getElementById('userName').value.trim();
        const reservationDate = document.getElementById('reservationDate').value;
        const reservationHours = parseInt(document.getElementById('reservationHours').value, 10);
        const hourlyRate = parseInt(document.getElementById('reservationHours').getAttribute('data-hourly-rate'), 10);

        if (isValidName(userName)) {
            document.getElementById("summaryEquipment").innerText = selectedEquipment;
            document.getElementById("summaryHourlyRate").innerText = `$${hourlyRate}`;
            document.getElementById("summaryUserName").innerText = userName;
            document.getElementById("summaryReservationDate").innerText = reservationDate;
            document.getElementById("summaryTotalCost").innerText = `$${calculateTotalCost(hourlyRate, reservationHours)}`;

            document.querySelector('.reservation-form').style.display = "none";
            document.querySelector('.summary').style.display = "block";
        } else {
            alert("Please enter a valid name.");
        }
    }

    function isValidName(name) {
        // Simple validation: Check if the name is not empty and does not contain numbers or special characters
        return /^[A-Za-z\s]+$/.test(name);
    }

    function proceedToPayment() {
        document.querySelector('.summary').style.display = "none";
        document.querySelector('.payment-form').style.display = "block";
    }

    function processPayment() {
        const cardNumber = document.getElementById('cardNumber').value;

        if (isValidCardNumber(cardNumber)) {
            document.getElementById("thankYouEquipment").innerText = selectedEquipment;
            document.getElementById("thankYouHourlyRate").innerText = `$${document.getElementById('summaryHourlyRate').innerText}`;
            document.getElementById("thankYouUserName").innerText = document.getElementById('summaryUserName').innerText;
            document.getElementById("thankYouReservationDate").innerText = document.getElementById('summaryReservationDate').innerText;
            document.getElementById("thankYouTotalCost").innerText = `$${document.getElementById('summaryTotalCost').innerText}`;

            document.querySelector('.payment-form').style.display = "none";
            document.querySelector('.thank-you').style.display = "block";
        } else {
            alert("Please enter a valid credit card number.");
        }
    }

    function isValidCardNumber(cardNumber) {
        // Simple validation: Check if the card number is not empty and contains only numbers
        return /^\d+$/.test(cardNumber);
    }

    function continueToHome() {
        resetForms();
        document.querySelector('.thank-you').style.display = "none";
        document.querySelector('.home').style.display = 'block';
    }

    function resetForms() {
        document.getElementById("reservationForm").reset();
        document.getElementById("cardNumber").value = "";
    }

    function calculateTotalCost(hourlyRate, reservationHours) {
        return hourlyRate * reservationHours;
    }
</script>

</body>
</html>
